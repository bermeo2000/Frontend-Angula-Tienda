<div>
    <main>
        <header>

            <div class="card">
                <p-table #dt [value]="tipoPeso" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
                    [tableStyle]="{ 'min-width': '50rem' }"
                    currentPageReportTemplate="Muesta {first} a {last} de {totalRecords} datos"
                    [rowsPerPageOptions]="[5, 10, 15]">

                    <ng-template pTemplate="header">
                        <tr>
                            <th style="width:25%">Code</th>
                            <th style="width:25%">tipo</th>
                            <th style="width:25%">Acciones</th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-tipopeso>
                        <tr>
                            <td>{{ tipopeso.pesoTipoId }}</td>
                            <td>{{ tipopeso.tipo }}</td>

                            <td>
                                <button pButton pRipple icon="pi pi-pencil"
                                    class="p-button-rounded p-button-success mr-2"
                                    (click)="edit(tipopeso.pesoTipoId)"></button>
                                <button pButton pRipple icon="pi pi-trash" class="p-button-rounded p-button-warning"
                                    (click)="showModalDelete(tipopeso.pesoTipoId)"></button>
                            </td>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="paginatorleft">
                        <p-button type="button" icon="pi pi-plus" styleClass="p-button-text"
                            (click)="showSaveDialog()"></p-button>
                    </ng-template>
                </p-table>

            </div>

            <!-- Guardar -->
            <p-dialog [(visible)]="visibleSave" [style]="{ width: '450px' }" header="Guardar Nueva tipo Peso" [modal]="true"
                styleClass="p-dialog-custom">
                <ng-template pTemplate="content">
                    <form [formGroup]="formSavePeso" class="formulario">

                        <div class="mb-3">
                            <label for="tipo" class="form-label">Tipo</label>
                            <input formControlName="tipo" type="text" class="form-control" id="tipo"
                                placeholder="Ingrese la tipo">
                            <div class="alert alert-danger" role="alert"
                                *ngIf="formSavePeso.get('tipo')?.touched && formSavePeso.get('tipo')?.errors?.['required']">
                                Campo requerido
                            </div>
                        </div>

                        <p-footer>
                            <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-text"
                                (click)="cancelSave()"></button>
                            <button pButton pRipple label="Guardar" icon="pi pi-check" class="p-button-text"
                                (click)="createTipoPeso()"></button>
                        </p-footer>

                    </form>
                </ng-template>
            </p-dialog>


            <!-- Editar -->
            <p-dialog [(visible)]="visible" [style]="{ width: '450px' }" header="Edita tu Categoria Tienda" [modal]="true"
                styleClass="p-dialog-custom">
                <ng-template pTemplate="content">
                    <form [formGroup]="formUpdatePeso" class="formulario">

                        <div class="mb-3">
                            <label for="tipo" class="form-label">Tipo</label>
                            <input formControlName="tipo" type="text" class="form-control" id="tipo"
                                placeholder="Ingrese la tipo">
                            <div class="alert alert-danger" role="alert"
                                *ngIf="formUpdatePeso.get('tipo')?.touched && formUpdatePeso.get('tipo')?.errors?.['required']">
                                Campo requerido
                            </div>
                        </div>


                        <p-footer>
                            <button pButton pRipple label="Cancel" icon="pi pi-times" class="p-button-text"
                                (click)="cancel()"></button>
                            <button pButton pRipple label="Save" icon="pi pi-check" class="p-button-text"
                                (click)="update()"></button>
                        </p-footer>

                    </form>
                </ng-template>
            </p-dialog>

            <!-- delete -->
            <p-dialog [(visible)]="visibleDelete" [style]="{ width: '450px' }" header="Eliminar Categoria Tienda" [modal]="true"
                styleClass="p-dialog-custom">
                <ng-template pTemplate="content">
                    <div class="p-d-flex p-jc-center">
                        <i class="pi pi-exclamation-triangle p-mr-2" style="font-size: 2rem; color: #e74c3c;"></i>
                        <p>¿Estás seguro de que deseas eliminar esta Categoria tienda?</p>
                    </div>
                    <p-footer>
                        <button pButton pRipple label="Cancelar" icon="pi pi-times" class="p-button-text"
                            (click)="visibleDelete= false"></button>
                        <button pButton pRipple label="Eliminar" icon="pi pi-check" class="p-button-text"
                            (click)="delete()"></button>
                    </p-footer>
                </ng-template>
            </p-dialog>

        </header>
    </main>
</div>